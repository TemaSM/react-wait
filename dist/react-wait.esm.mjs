import{useState as n,useContext as t,createContext as r}from"react";function i(){return i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},i.apply(this,arguments)}var e=function(n,t){return n.includes(t)},u=function(n,t){return e(n,t)?n:[].concat(n,[t])},c=function(n,t){return n.filter(function(n){return n!==t})},a=/*#__PURE__*/r();function o(n){return t(a).waiters.includes(n.on)?n.fallback:n.children}function f(t){var r=n([]),f=r[0],l=r[1];/*#__PURE__*/return React.createElement(a.Provider,{value:{waiters:f,createWaitingContext:function(n){return{isWaiting:function(){return e(f,n)},startWaiting:function(){return l(u(f,n))},endWaiting:function(){return l(c(f,n))},Wait:function(t){/*#__PURE__*/return React.createElement(o,i({on:n},t))}}},anyWaiting:function(){return function(n){return n.length>0}(f)},isWaiting:function(n){return e(f,n)},startWaiting:function(n){l(u(f,n))},endWaiting:function(n){l(c(f,n))}}},t.children)}function l(){return i({},t(a),{Wait:o})}export{f as Waiter,l as useWait};
//# sourceMappingURL=react-wait.esm.mjs.map
