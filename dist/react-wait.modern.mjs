import{useState as t,useContext as n,createContext as e}from"react";function i(){return i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},i.apply(this,arguments)}const r=(t,n)=>t.includes(n),a=(t,n)=>r(t,n)?t:[...t,n],c=(t,n)=>t.filter(t=>t!==n),o=/*#__PURE__*/e();function l(t){return n(o).waiters.includes(t.on)?t.fallback:t.children}function s(n){const[e,s]=t([]);/*#__PURE__*/return React.createElement(o.Provider,{value:{waiters:e,createWaitingContext:t=>({isWaiting:()=>r(e,t),startWaiting:()=>s(a(e,t)),endWaiting:()=>s(c(e,t)),Wait:n=>/*#__PURE__*/React.createElement(l,i({on:t},n))}),anyWaiting:()=>(t=>t.length>0)(e),isWaiting:t=>r(e,t),startWaiting(t){s(a(e,t))},endWaiting(t){s(c(e,t))}}},n.children)}function u(){return i({},n(o),{Wait:l})}export{s as Waiter,u as useWait};
//# sourceMappingURL=react-wait.modern.mjs.map
